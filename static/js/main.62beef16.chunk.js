(this["webpackJsonpbibliotecadd-react"]=this["webpackJsonpbibliotecadd-react"]||[]).push([[0],{228:function(e){e.exports=JSON.parse('{"name":"bibliotecadd-react","homepage":"https://sei.ruivotech.com.br/","version":"1.5.0","private":true,"manutencao":false,"dependencies":{"@fortawesome/fontawesome-svg-core":"^1.2.28","@fortawesome/free-solid-svg-icons":"^5.13.0","@fortawesome/react-fontawesome":"^0.1.10","@react-native-community/async-storage":"^1.11.0","@react-pdf/renderer":"^2.0.0-beta.6","@testing-library/jest-dom":"^4.2.4","@testing-library/react":"^9.3.2","@testing-library/user-event":"^7.1.2","axios":"^0.19.2","bootstrap":"^4.5.0","jsonwebtoken":"^8.5.1","react":"^16.13.1","react-dom":"^16.13.1","react-router-dom":"^5.2.0","react-scripts":"3.4.1","reactstrap":"^8.4.1","recharts":"^1.8.5","xlsx":"^0.16.5"},"scripts":{"start":"react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject","predeploy":"npm run build","deploy":"gh-pages -d build"},"eslintConfig":{"extends":"react-app"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"@types/jsonwebtoken":"^8.5.0","gh-pages":"^3.0.0"}}')},440:function(e,t){},476:function(e,t,a){e.exports=a.p+"static/media/Imagem.f4293a16.jpg"},477:function(e,t,a){e.exports=a.p+"static/media/Logo.ed330dc2.png"},529:function(e,t,a){e.exports=a(967)},538:function(e,t){},540:function(e,t){},576:function(e,t){},577:function(e,t){},633:function(e,t,a){},811:function(e,t,a){},828:function(e,t,a){},830:function(e,t){},831:function(e,t){},858:function(e,t){},859:function(e,t){},967:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(152),o=a.n(l),c=(a(534),a(43)),s=a(48),i=a(228),m=a(116),u=a.n(m),d=a(476),v=a.n(d),p=function(){return r.a.createElement("div",{className:"text-center align-middle"},r.a.createElement("img",{src:v.a,alt:"Manuten\xe7\xe3o",className:""}))},b=(a(633),r.a.createContext()),f="@BibliotecaDD:token",g=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t?localStorage.setItem(f,JSON.stringify(e)):sessionStorage.setItem(f,JSON.stringify(e)),localStorage.setItem("manterLogado",JSON.stringify(t))},E=function(){return null!==(JSON.parse(localStorage.getItem("manterLogado"))?localStorage.getItem(f):sessionStorage.getItem(f))},h=function(){var e=JSON.parse(localStorage.getItem("manterLogado"))?localStorage.getItem(f):sessionStorage.getItem(f);return JSON.parse(e)},N=a(5),y=a(245),O=a(477),j=a.n(O),w={admin:["/livros","/retiradas","/importacoes","/usuarios","/dashboard","/logs","/perfil"],normal:["/dashboard","/livros","/retiradas","/perfil"]},x=function(){var e=Object(n.useContext)(b).signOut,t=Object(s.f)(),a=Object(n.useState)({}),l=Object(N.a)(a,2),o=l[0],i=l[1],m=Object(n.useContext)(b).isAdmin;return Object(n.useEffect)((function(){var e=h(),t=u.a.decode(e.token);i(t)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:"navbar navbar-light bg-light navbar-expand-sm"},r.a.createElement(c.b,{className:"navbar-brand",to:"/dashboard"},r.a.createElement("img",{src:j.a,alt:"Biblioteca DD",height:"45",width:"90"})),r.a.createElement("ul",{className:"navbar-nav mr-auto"},w[m()?"admin":"normal"].includes("/livros")&&r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement(c.b,{className:"dropdown-item",to:"/livros"},"Livros")),w[m()?"admin":"normal"].includes("/retiradas")&&r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"nav-item"},r.a.createElement(c.b,{className:"dropdown-item",to:"/retiradas"},"Retiradas")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(c.b,{className:"dropdown-item",to:"/importacoes"},"Importa\xe7\xf5es"))),w[m()?"admin":"normal"].includes("/usuarios")&&r.a.createElement("li",{className:"nav-item"},r.a.createElement(c.b,{className:"dropdown-item",to:"/usuarios"},"Usu\xe1rios")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(c.b,{className:"dropdown-item",to:"/perfil"},"Perfil"))),r.a.createElement("ul",{className:"navbar-nav ml-auto nav-flex-icons"},r.a.createElement("li",{className:"nav-item avatar"},r.a.createElement("span",null,o.nome),r.a.createElement("button",{className:"btn btn-danger ml-2 px-3",onClick:function(){e(),t.push("/")}},"Sair")))))},C=function(e){var t=e.component,a=e.path,l=e.location,o=Object(y.a)(e,["component","path","location"]),c=Object(n.useContext)(b).signOut,i=Object(s.f)(),m=Object(n.useState)(!1),d=Object(N.a)(m,2),v=d[0],p=d[1];return Object(n.useEffect)((function(){E()?p(!v):(c(),i.push("/"))}),[]),Object(n.useEffect)((function(){var e=h(),t=2===u.a.decode(e.token).nivel?"admin":"normal";w[t].includes(l.pathname)||i.push("/dashboard")}),[l]),v&&r.a.createElement(r.a.Fragment,null,r.a.createElement(x,null),r.a.createElement(s.a,{path:a,render:function(e){return r.a.createElement(t,Object.assign({},e,o))}}))},S=function(){return r.a.createElement("footer",{className:"fixed-bottom bg-white",style:{height:"5vh"}},r.a.createElement("p",{className:"h5 text-center"},"Todos os direitos reservados "," ",r.a.createElement("a",{target:"_blank",rel:"author noreferrer noopener",href:"https://github.com/RuivoTech"},"RuivoTech"),r.a.createElement("br",null),r.a.createElement("span",{className:"h5 text-secondary"},"Vers\xe3o ",i.version)))},k=a(16),F=a.n(k),R=a(31),L=a(139),D=a(72),_="LEFT",A=function(e,t){for(var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=e,r=[];n<=t;)r.push(n),n+=a;return r},I=function(e){var t=e.data,a=void 0===t?[]:t,l=e.renderItems,o=e.limiteItems,c=void 0===o?20:o,s=e.pageNeighbours,i=void 0===s?3:s,m=Object(n.useState)(1),u=Object(N.a)(m,2),d=u[0],v=u[1],p=c,b=a.length,f=Math.ceil(b/p),g=Object(n.useState)([]),E=Object(N.a)(g,2),h=E[0],y=E[1],O=Object(n.useState)(0),j=Object(N.a)(O,2),w=j[0],x=j[1],C=Object(n.useState)(0),S=Object(N.a)(C,2),k=S[0],F=S[1],R=Object(n.useState)(""),L=Object(N.a)(R,2),I=L[0],B=L[1],T=function(){var e=2*i+3;if(f>e+2){var t=Math.max(2,d-i),a=Math.min(f-1,d+i),n=A(t,a),r=t>2,l=f-a>1,o=e-(n.length+1);switch(!0){case r&&!l:var c=A(t-o,t-1);n=[_].concat(Object(D.a)(c),Object(D.a)(n));break;case!r&&l:var s=A(a+1,a+o);n=[].concat(Object(D.a)(n),Object(D.a)(s),["RIGHT"]);break;case r&&l:default:n=[_].concat(Object(D.a)(n),["RIGHT"])}y([1].concat(Object(D.a)(n),[f]))}else y(A(1,f))};Object(n.useEffect)((function(){T(),z(1)}),[a]),Object(n.useEffect)((function(){T()}),[d]);var z=function(e){var t=Math.max(0,Math.min(e,f)),n=(t-1)*p,r=a.slice(n,n+p);x(n+1),F(n+p),v(t),l(r)};return b&&1!==f?0===b?r.a.createElement("div",{className:"dataTables_info pull-left pt-3"},"Nenhuma informa\xe7\xe3o encontrada."):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"dataTables_info pull-left pt-3"},"Exibindo de ",w>b?b:w," a ",k>b?b:k," / Total ",b),r.a.createElement("div",{className:"dataTables_paginate paging_simple_numbers pull-right pt-3"},r.a.createElement("ul",{className:"pagination"},h.map((function(e,t){return e===_?r.a.createElement("li",{key:t,className:"page-item"},r.a.createElement("button",{className:"page-link",onClick:function(){return z(d-1)}},r.a.createElement("span",{"aria-hidden":"true"},"\xab"),r.a.createElement("span",{className:"sr-only"},"Anterior"))):"RIGHT"===e?r.a.createElement("li",{key:t,className:"page-item"},r.a.createElement("button",{className:"page-link",onClick:function(){return z(d+1)}},r.a.createElement("span",{"aria-hidden":"true"},"\xbb"),r.a.createElement("span",{className:"sr-only"},"Pr\xf3xima"))):r.a.createElement("li",{key:t,className:"page-item".concat(d===e?" active":"")},r.a.createElement("button",{className:"page-link",onClick:function(){return z(e)}},e))})),f>c&&r.a.createElement("input",{type:"text",onKeyUp:function(e){"Enter"===e.key?z(I||1):B(e.target.value)},style:{width:"4vw",marginLeft:"5px"},title:'Digite uma p\xe1gina e aperte "Enter"'})))):null},B=(a(811),function(e){var t=e.titulo,a=e.tituloBotao,l=e.mostrarBotaoNovo,o=e.data,c=e.handleShow,s=e.height,i=e.corLinha,m=e.maxHeight,u=e.children,d=void 0===u?[]:u,v=Object(n.useState)([]),p=Object(N.a)(v,2),b=p[0],f=p[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"ibox float-e-margins mb-0"},t&&r.a.createElement("div",{className:"ibox-title"},r.a.createElement("div",{className:"h1 pull-left"},t),r.a.createElement("div",{className:"ibox-tools"},l?r.a.createElement("div",{className:"button-group"},r.a.createElement("button",{className:"btn btn-outline-primary",type:"button",title:a,onClick:function(){return c({})}},a),"\xa0"):null)),r.a.createElement("div",{className:"ibox-content"},r.a.createElement("div",{className:"table-responsive"},r.a.createElement("div",{className:"dataTables_wrapper"},r.a.createElement("div",{className:"overflow-auto",style:s},r.a.createElement("table",{className:"table table-sm table-striped table-hover",style:m?{maxHeight:m}:{maxHeight:"52vh"}},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",{role:"row"},d.map((function(e,t){return r.a.createElement("td",{key:t,style:{width:e.props.tamanho+"vw"}},e.props.titulo)})))),r.a.createElement("tbody",{className:"overflow-auto"},null===b||void 0===b?void 0:b.map((function(e,t){return r.a.createElement("tr",{role:"row",key:t,className:i?i(e):null},r.a.Children.map(d,(function(t){var a=t.props.corpo?t.props.corpo(e):function(e,t){var a=e.split("."),n=Object(N.a)(a,2),r=n[0],l=n[1];return l?t[r][l]:t[e]}(t.props.campo,e);return r.a.cloneElement(t,{valor:a,className:t.props.className})})))}))))),r.a.createElement(I,{data:o,renderItems:function(e){f(e)}}))))))}),T=function(e){var t=e.valor,a=e.className,n=e.tamanho,l=(e.corpo,Object(y.a)(e,["valor","className","tamanho","corpo"]));return r.a.createElement(r.a.Fragment,null,r.a.createElement("td",Object.assign({className:"align-middle "+a,style:{width:n+"em"}},l),t))},z=a(486),Y=a.n(z).a.create({baseURL:"https://api.ruivotech.com.br"}),q=function(){var e=Object(n.useState)([]),t=Object(N.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)([]),s=Object(N.a)(o,2),i=s[0],m=s[1],u=Object(n.useState)(0),d=Object(N.a)(u,2),v=d[0],p=d[1],b=Object(n.useState)(0),f=Object(N.a)(b,2),g=f[0],E=f[1],y=window.innerWidth,O=window.innerHeight;Object(n.useEffect)((function(){(function(){var e=Object(R.a)(F.a.mark((function e(){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=h(),e.next=3,Y.get("home",{headers:{Authorization:"Bearer ".concat(t.token)}}).then((function(e){m(e.data.livros),l(e.data.quantidadeLivros)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.useEffect)((function(){p(window.innerWidth/2),E(window.innerHeight/2)}),[y,O]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:"navbar navbar-expand-lg",style:{minHeight:"45px"}},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(c.b,{className:"btn btn-info",target:"_blank",to:"/relatorio/emBaixa"},"Gerar PDF"))),r.a.createElement("input",{className:"form-control col-md-5",type:"text",placeholder:"Pesquisar...",id:"pesquisar"})),r.a.createElement("div",{className:"mx-2 pb-5"},r.a.createElement("div",{className:"card overflow-hidden align-items-center"},r.a.createElement("div",{className:"row ",style:{height:"76vh"}},r.a.createElement("div",{className:"col-sm-6 col-md-6 col-lg-6"},r.a.createElement("h3",{className:"h1 text-center"},"Livros mais retirados"),r.a.createElement(L.b,{width:v,height:g,data:a},r.a.createElement(L.e,{dataKey:"nome",hide:!0}),r.a.createElement(L.f,null),r.a.createElement(L.d,null),r.a.createElement(L.c,{stroke:"#0c0c0c",strokeDasharray:"5 5"}),r.a.createElement(L.a,{dataKey:"quantidade",fill:"#8884d8",barSize:25}))),r.a.createElement("div",{className:"col-sm-6 col-md-6 col-lg-6"},r.a.createElement(B,{data:i,titulo:"Livros em baixa quantidade",corLinha:function(e){return function(e){return 0===e.quantidade?"table-danger":e.quantidade<=5?"table-warning":"table-light"}(e)}},r.a.createElement(T,{campo:"id_livro",titulo:"#",tamanho:"2"}),r.a.createElement(T,{campo:"nome",titulo:"Nome",tamanho:"10"}),r.a.createElement(T,{campo:"quantidade",titulo:"Quantidade",tamanho:"3"}),r.a.createElement(T,{campo:"tipo",titulo:"Tipo",tamanho:"3"})))))))},M=a(57),W=a(54),P=function(){var e=Object(n.useContext)(b).signIn,t=Object(n.useState)(!1),a=Object(N.a)(t,2),l=a[0],o=a[1],i=Object(s.f)(),m=Object(n.useState)(""),u=Object(N.a)(m,2),d=u[0],v=u[1],p=Object(n.useState)({email:"",senha:"",manterLogado:!1}),f=Object(N.a)(p,2),h=f[0],y=f[1];Object(n.useEffect)((function(){!function(){var e=E();e&&g(e,localStorage.getItem("manterLogado")).then((function(){i.push("/dashboard")}))}()}),[]);var O=function(e){y(Object(W.a)({},h,Object(M.a)({},e.target.name,e.target.value)))},j=function(){var t=Object(R.a)(F.a.mark((function t(a){var n;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),o(!0),t.prev=2,t.next=5,Y.post("/login",{email:h.email,senha:h.senha});case 5:if(!(n=t.sent).data.error){t.next=10;break}return v(n.data.error),o(!1),t.abrupt("return");case 10:e(n.data,h.manterLogado),setTimeout((function(){o(!1),i.push("/dashboard")}),1e3),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(2),o(!1),console.log(t.t0);case 18:case"end":return t.stop()}}),t,null,[[2,14]])})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"auth-wrapper"},r.a.createElement("div",{className:"auth-inner"},r.a.createElement("form",{onSubmit:j},r.a.createElement("h3",null,"Sign In"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Usu\xe1rio"),r.a.createElement("input",{type:"text",name:"email",className:"form-control",placeholder:"E-mail ou nome de usu\xe1rio...",value:h.email,onChange:O})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Senha"),r.a.createElement("input",{type:"password",name:"senha",className:"form-control",placeholder:"Senha...",value:h.senha,onChange:O})),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"custom-control custom-checkbox"},r.a.createElement("input",{type:"checkbox",className:"custom-control-input",id:"customCheck1",checked:h.manterLogado,value:h.manterLogado,onChange:function(){y(Object(W.a)({},h,{manterLogado:!h.manterLogado}))}}),r.a.createElement("label",{className:"custom-control-label",htmlFor:"customCheck1"},"Manter-me logado"))),r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block",disabled:l},l?"Aguarde...":"Entrar"),r.a.createElement("p",{className:"forgot-password text-right"},r.a.createElement(c.b,{to:"/"},"Esqueceu a senha?"))),d&&r.a.createElement("p",{className:"h6 text-center text-danger"},d))))},H=a(972),U=a(969),G=a(970),J=a(971),K=function(e){var t=e.show,a=e.handleShow,l=Object(n.useState)("todos"),o=Object(N.a)(l,2),s=o[0],i=o[1],m=function(e){i(e.target.value)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a,{isOpen:t,toggle:a},r.a.createElement(U.a,{toggle:a},"Relat\xf3rio de Livros"),r.a.createElement(G.a,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-6"},"Tipo do livro:"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("div",{className:"custom-control custom-radio"},r.a.createElement("input",{className:"custom-control-input",id:"todos",type:"radio",name:"tipo",value:"todos",checked:"todos"===s,onClick:m}),r.a.createElement("label",{className:"custom-control-label",for:"todos"},"Todos")),r.a.createElement("div",{className:"custom-control custom-radio"},r.a.createElement("input",{className:"custom-control-input",id:"engenharia",name:"tipo",type:"radio",value:"engenharia",checked:"engenharia"===s,onClick:m}),r.a.createElement("label",{className:"custom-control-label",for:"engenharia"},"Engenharia")),r.a.createElement("div",{className:"custom-control custom-radio"},r.a.createElement("input",{className:"custom-control-input",id:"normal",name:"tipo",type:"radio",value:"normal",checked:"normal"===s,onClick:m}),r.a.createElement("label",{className:"custom-control-label",for:"normal"},"Normal")),r.a.createElement("div",{className:"custom-control custom-radio"},r.a.createElement("input",{className:"custom-control-input",id:"gastronomia",name:"tipo",type:"radio",value:"gastronomia",checked:"gastronomia"===s,onClick:m}),r.a.createElement("label",{className:"custom-control-label",for:"gastronomia"},"Gastronomia"))))),r.a.createElement(J.a,null,r.a.createElement(c.b,{to:"/relatorio/livros/"+s,target:"_blank",className:"btn btn-success btn-lg"},"Gerar Relat\xf3rio"))))},Q={converteData:function(e,t,a){var n=new Date(e[t]),r=n.getFullYear(),l=n.getMonth(),o=n.getDate(),c="";switch(a){case"DD/MM":c=o+"/"+l;break;case"DD/MM/YY":c=o+"/"+l+"/"+r.substring(2,4);break;case"DD":c=o;break;case"MM/DD":c=l+"/"+o;break;default:c=o+"/"+l+"/"+r}return n&&"0000"!==r?c:null},separarString:function(e,t){for(var a=e.split(" "),n="",r=0;r<t;r++)n=n+" "+a[r];return n}},V=function(e){var t=e.show,a=e.handleShow,l=e.data,o=Object(n.useState)({}),c=Object(N.a)(o,2),s=c[0],i=c[1],m=Object(n.useState)({}),u=Object(N.a)(m,2),d=u[0],v=u[1];Object(n.useEffect)((function(){i(l)}),[l]),Object(n.useEffect)((function(){setTimeout((function(){v({})}),1e4)}),[d]);var p=function(e){i(Object(W.a)({},s,Object(M.a)({},e.target.name,e.target.value)))},b=function(){var e=Object(R.a)(F.a.mark((function e(t){var a,n,r;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a="",n=h(),r={headers:{Authorization:"Bearer ".concat(n.token)}},e.prev=4,!(s.id_livro>0)){e.next=11;break}return e.next=8,Y.put("livros",s,r);case 8:a=e.sent,e.next=14;break;case 11:return e.next=13,Y.post("livros",s,r);case 13:a=e.sent;case 14:a.data.error?v({mensagem:a.data.error,className:"danger"}):(v({mensagem:"Livro cadastrado com sucesso",className:"success"}),i({id_livro:"",nome:"",autor:"",quantidade:"",tipo:""})),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(4),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[4,17]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a,{isOpen:t,toggle:a,className:"modal-lg"},r.a.createElement(U.a,{toggle:a},(null===s||void 0===s?void 0:s.nome)?null===s||void 0===s?void 0:s.nome:"Novo livro"),r.a.createElement(G.a,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-2 col-lg-2"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"id_livro"},"ID:"),r.a.createElement("input",{className:"form-control",type:"text",id:"id_livro",name:"id_livro",value:s.id_livro,disabled:!0}))),r.a.createElement("div",{className:"col-sm-10 col-lg-10"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"nome"},"Nome:"),r.a.createElement("input",{className:"form-control",type:"text",id:"nome",name:"nome",value:s.nome,onChange:p}))),r.a.createElement("div",{className:"col-sm-6 col-lg-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"autor"},"Autor:"),r.a.createElement("input",{className:"form-control",type:"text",id:"autor",name:"autor",value:s.autor,onChange:p}))),r.a.createElement("div",{className:"col-sm-2 col-lg-2"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"quantidade"},"Quantidade:"),r.a.createElement("input",{className:"form-control",type:"number",id:"quantidade",name:"quantidade",value:s.quantidade,onChange:p}))),r.a.createElement("div",{className:"col-sm-4 col-lg-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"tipo"},"Tipo:"),r.a.createElement("select",{name:"tipo",value:s.tipo,className:"custom-select",onChange:p,required:!0},r.a.createElement("option",null,"Selecione um tipo..."),r.a.createElement("option",{value:"Normal"},"Normal"),r.a.createElement("option",{value:"Engenharia"},"Engenharia"),r.a.createElement("option",{value:"Gastronomia"},"Gastronomia")))))),r.a.createElement(J.a,null,r.a.createElement("div",{style:{left:"1em",position:"absolute"}},s.criadoPor&&r.a.createElement("p",{className:"h6 -text-dark"},"Criado por:",r.a.createElement("span",{className:"text-primary"},s.criadoPor)," ","no dia"," ",r.a.createElement("span",{className:"text-primary"},Q.converteData(s,"dataCriado","DD/MM/YYYY"))),s.alteradoPor&&r.a.createElement("p",{className:"h6 -text-dark"},"Alterado por:",r.a.createElement("span",{className:"text-primary"},s.alteradoPor)," ","no dia"," ",r.a.createElement("span",{className:"text-primary"},Q.converteData(s,"dataAlterado","DD/MM/YYYY")))),d&&r.a.createElement("div",{className:"bg-"+d.className+" align-middle rounded",style:{minWidth:"30em",left:"1em",position:"absolute"}},r.a.createElement("p",{className:"text-white px-2 align-middle",style:{fontSize:20}},d.mensagem)),r.a.createElement("button",{type:"submit",className:"btn btn-success",onClick:b},"Salvar")," ",r.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:a},"Cancelar"))))},X=function(){var e=Object(n.useState)([]),t=Object(N.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)([]),c=Object(N.a)(o,2),s=c[0],i=c[1],m=Object(n.useState)(""),u=Object(N.a)(m,2),d=u[0],v=u[1],p=Object(n.useState)(!1),b=Object(N.a)(p,2),f=b[0],g=b[1],E=Object(n.useState)(!1),y=Object(N.a)(E,2),O=y[0],j=y[1],w=Object(n.useState)({}),x=Object(N.a)(w,2),C=x[0],S=x[1],k=Object(n.useState)(""),L=Object(N.a)(k,2),D=L[0],_=L[1],A=Object(n.useState)(""),I=Object(N.a)(A,2),z=I[0],q=I[1];Object(n.useEffect)((function(){(function(){var e=Object(R.a)(F.a.mark((function e(){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=h(),e.next=3,Y.get("livros",{headers:{Authorization:"Bearer ".concat(t.token)}}).then((function(e){l(e.data),i(e.data)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[f]);var M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};S(e),g(!f)},W=function(){var e=Object(R.a)(F.a.mark((function e(t){var a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=h(),e.next=3,Y.delete("livros/"+t,{headers:{Authorization:"Bearer ".concat(a.token)}}).then((function(e){e.data.error?(_(e.data.error),q("bg-danger")):(_("Livro removido com sucesso!"),q("bg-success"),l(e.data),i(e.data))}));case 3:setTimeout((function(){_("")}),5e3);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:"navbar navbar-expand-lg"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("button",{className:"btn btn-info",onClick:function(){return j(!O)}},"Gerar Relat\xf3rio")),r.a.createElement("input",{className:"form-control col-md-5",type:"text",placeholder:"Pesquisar...",value:d,onChange:function(e){var t=a.filter((function(t){return t.nome.toLowerCase().includes(e.target.value.toLowerCase())}));v(e.target.value),i(t)}})),r.a.createElement("div",{className:"mx-2 pb-5"},r.a.createElement("div",{className:"card overflow-hidden align-items-center",style:{height:"76vh"}},r.a.createElement("div",{className:"row col-12"},r.a.createElement(B,{data:s,titulo:"Livros",mostrarBotaoNovo:!0,tituloBotao:"Novo livro",handleShow:M},r.a.createElement(T,{campo:"nome",titulo:"Nome",tamanho:"10"}),r.a.createElement(T,{campo:"autor",titulo:"Autor",tamanho:"10"}),r.a.createElement(T,{campo:"quantidade",titulo:"Quantidade",tamanho:"3"}),r.a.createElement(T,{campo:"tipo",titulo:"Tipo",tamanho:"3"}),r.a.createElement(T,{titulo:"Op\xe7\xf5es",corpo:function(e){return function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"btn btn-primary btn-sm mx-2",onClick:function(){return M(e)}},"Editar"),r.a.createElement("button",{className:"btn btn-danger btn-sm mx-2",onClick:function(){return W(e.id_livro)}},"Remover"))}(e)},tamanho:"5"})),D&&r.a.createElement("div",{className:z+" d-flex justify-content-center align-items-center rounded w-50",style:{maxHeight:"10vh"}},r.a.createElement("p",{className:"text-white",style:{fontSize:20}},D))))),r.a.createElement(V,{show:f,handleShow:M,data:C}),r.a.createElement(K,{show:O,handleShow:function(){return j(!O)}}))},Z=function(){var e=Object(s.f)(),t=Object(n.useContext)(b).signOut,a=Object(n.useState)({}),l=Object(N.a)(a,2),o=l[0],c=l[1],i=Object(n.useState)(""),m=Object(N.a)(i,2),d=m[0],v=m[1],p=Object(n.useState)("form-control"),f=Object(N.a)(p,2),g=f[0],E=f[1],y=Object(n.useState)({}),O=Object(N.a)(y,2),j=O[0],w=O[1];Object(n.useEffect)((function(){(function(){var e=Object(R.a)(F.a.mark((function e(){var t,a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=h(),a=u.a.decode(t.token),e.next=4,Y.get("usuarios/"+a.id,{headers:{Authorization:"Bearer ".concat(t.token)}}).then((function(e){e.data.error||c(e.data)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var x=function(){var a=Object(R.a)(F.a.mark((function a(){var n,r,l;return F.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n="",r=h(),l={headers:{Authorization:"Bearer ".concat(r.token)}},a.prev=3,a.next=6,Y.put("usuarios/"+o.id,o,l);case 6:(n=a.sent).data.error?w({mensagem:n.data.error,className:"danger"}):(w({mensagem:"Usu\xe1rio alterado com sucesso!",className:"success"}),confirm("Por favor, fa\xe7a login novamente!")&&(t(),e.push("/"))),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(3),console.log(a.t0);case 13:case"end":return a.stop()}}),a,null,[[3,10]])})));return function(){return a.apply(this,arguments)}}(),C=function(e){c(Object(W.a)({},o,Object(M.a)({},e.target.name,e.target.value)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:"navbar navbar-expand-lg"},r.a.createElement("ul",{className:"navbar-nav mr-auto"})),r.a.createElement("div",{className:"mx-2 pb-5"},r.a.createElement("div",{className:"card overflow-auto",style:{height:"80vh"}},r.a.createElement("div",{className:"row m-2"},r.a.createElement("div",{className:"col-sm-6 col-lg-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"nome"},"Nome:"),r.a.createElement("input",{className:"form-control",type:"text",id:"nome",name:"nome",value:null===o||void 0===o?void 0:o.nome,onChange:C}))),r.a.createElement("div",{className:"col-sm-6 col-lg-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"nomeUsuario"},"Nome de Usu\xe1rio:"),r.a.createElement("input",{className:"form-control",type:"text",id:"autor",name:"nomeUsuario",value:null===o||void 0===o?void 0:o.nomeUsuario,onChange:C,disabled:!0}))),r.a.createElement("div",{className:"col-sm-6 col-lg-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"E-mail:"),r.a.createElement("input",{className:"form-control",type:"email",id:"email",name:"email",value:null===o||void 0===o?void 0:o.email,onChange:C}))),r.a.createElement("div",{className:"col-sm-6"}),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"senha"},"Senha:"),r.a.createElement("input",{className:g,type:"password",id:"senha",name:"senha",value:null===o||void 0===o?void 0:o.senha,onChange:C}))),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"verificarSenha"},"Verificar Senha:"),r.a.createElement("input",{className:g,type:"password",id:"verificarSenha",name:"verificarSenha",value:d,onChange:function(e){o.senha===e.target.value?E("form-control is-valid"):E("form-control is-invalid"),v(e.target.value)}})))),r.a.createElement("div",{className:"position-absolute fixed-bottom p-2 border-top overflow-hidden"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("button",{type:"button",className:"btn btn-success",onClick:x},"Salvar")),r.a.createElement("div",{className:"col-md-6"},j&&r.a.createElement("div",{className:"bg-"+j.className+" rounded"},r.a.createElement("p",{className:"text-white px-2"},j.mensagem)))))))},$=a(487),ee=a(488),te=a(499),ae=a(500),ne=(a(828),function(e){Object(ae.a)(a,e);var t=Object(te.a)(a);function a(e){var n;return Object($.a)(this,a),(n=t.call(this,e)).onChange=function(e){var t=n.props,a=t.suggestions,r=t.field,l=a.filter((function(t){return t[r].toLowerCase().includes(e.currentTarget.value.toLowerCase())}));n.setState({activeSuggestion:0,filteredSuggestions:l,showSuggestions:!0}),n.props.onChange(e)},n.onClick=function(e){var t=n.state,a=t.activeSuggestion,r=t.filteredSuggestions,l=r.filter((function(t){return t.id_livro===Number(e.currentTarget.id)?t:null}));l=l[0],n.setState({activeSuggestion:0,showSuggestions:!1,userInput:r[a]}),n.props.onClick(l)},n.onKeyDown=function(e){var t=n.state,a=t.activeSuggestion,r=t.filteredSuggestions;if(13===e.keyCode)e.preventDefault(),n.setState({activeSuggestion:0,showSuggestions:!1,userInput:r[a]}),n.props.onClick(r[a]);else if(38===e.keyCode){if(0===a)return;n.setState({activeSuggestion:a-1})}else if(40===e.keyCode){if(a-1===r.length)return;n.setState({activeSuggestion:a+1})}else(8===e.keyCode||27===e.keyCode)&&e.currentTarget.value.length<2&&n.setState({activeSuggestion:0,showSuggestions:!1})},n.state={activeSuggestion:0,filteredSuggestions:[],showSuggestions:!1},n}return Object(ee.a)(a,[{key:"render",value:function(){var e,t=this.onChange,a=this.onClick,l=this.onKeyDown,o=this.state,c=o.activeSuggestion,s=o.filteredSuggestions,i=o.showSuggestions,m=this.props,u=m.className,d=m.name,v=m.value,p=m.field,b=m.autoComplete;return i&&(e=s.length?r.a.createElement("ul",{className:"suggestions"},s.map((function(e,t){var n;return t===c&&(n="suggestion-active"),r.a.createElement("li",{className:n,key:t,onClick:a,id:e.id_livro},r.a.createElement("span",{style:{minWidth:"25px",display:"inline-block"}},e.id_livro)," - ",r.a.createElement("span",null,e[p]))}))):r.a.createElement("div",{className:"no-suggestions"},r.a.createElement("em",null,"Nenhuma informa\xe7\xe3o encontrada, verifique os dados informados!"))),r.a.createElement(n.Fragment,null,r.a.createElement("input",{type:"text",onChange:t,onKeyDown:l,value:v,className:u,name:d,autoComplete:b}),e)}}]),a}(n.Component));ne.defaultProps={suggestions:[]};var re=ne,le=function(e){var t=e.show,a=e.handleShow,l=e.data,o=Object(n.useState)({}),c=Object(N.a)(o,2),s=c[0],i=c[1],m=Object(n.useState)(""),u=Object(N.a)(m,2),d=u[0],v=u[1],p=Object(n.useState)([]),b=Object(N.a)(p,2),f=b[0],g=b[1],E=Object(n.useState)([]),y=Object(N.a)(E,2),O=y[0],j=y[1],w=Object(n.useState)({}),x=Object(N.a)(w,2),C=x[0],S=x[1];Object(n.useEffect)((function(){i(l)}),[l]),Object(n.useEffect)((function(){(function(){var e=Object(R.a)(F.a.mark((function e(){var t,a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=h(),e.next=3,Y.get("livros",{headers:{Authorization:"Bearer ".concat(t.token)},params:{emEstoque:!0}});case 3:a=e.sent,j(a.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.useEffect)((function(){setTimeout((function(){S({})}),5e3)}),[C]);var k=function(e){i(Object(W.a)({},s,Object(M.a)({},e.target.name,e.target.value)))},L=function(e){if(f.findIndex((function(t){return t.id_livro===e.id_livro}))>=0){var t=f.filter((function(t){return t.id_livro!==e.id_livro}));g(t)}else g([].concat(Object(D.a)(f),[e]));v("")},_=function(){var e=Object(R.a)(F.a.mark((function e(t){var a,n,r;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a="",n=h(),r={headers:{Authorization:"Bearer ".concat(n.token)}},e.prev=4,!(s.id_retirada>0)){e.next=11;break}return e.next=8,Y.put("retiradas",s,r);case 8:a=e.sent,e.next=14;break;case 11:return e.next=13,Y.post("retiradas",{retirada:s,livros_retirada:f},r);case 13:a=e.sent;case 14:a.data.error?S({mensagem:a.data.error,className:"danger"}):(S({mensagem:"Retirada cadastrada com sucesso",className:"success"}),i({ra:"",nome:"",cusr:"",semestre:"",data_retirada:""}),g([])),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(4),console.log(e.t0);case 20:setTimeout((function(){S({})}),5e3);case 21:case"end":return e.stop()}}),e,null,[[4,17]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a,{isOpen:t,toggle:a,className:"modal-lg"},r.a.createElement(U.a,{toggle:a},(null===s||void 0===s?void 0:s.nome)?null===s||void 0===s?void 0:s.nome:"Nova retirada"),r.a.createElement(G.a,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-2 col-lg-2"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"id_retirada"},"ID:"),r.a.createElement("input",{className:"form-control",type:"text",id:"id_retirada",name:"id_retirada",value:s.id_retirada,onChange:k,disabled:!0}))),r.a.createElement("div",{className:"col-sm-3 col-lg-3"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"ra"},"RA:"),r.a.createElement("input",{className:"form-control",type:"text",id:"ra",name:"ra",value:s.ra,onChange:k}))),r.a.createElement("div",{className:"col-sm-7 col-lg-7"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"nome"},"Nome:"),r.a.createElement("input",{className:"form-control",type:"text",id:"nome",name:"nome",value:s.nome,onChange:k}))),r.a.createElement("div",{className:"col-sm-6 col-lg-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"curso"},"Curso:"),r.a.createElement("input",{className:"form-control",type:"text",id:"curso",name:"curso",value:s.curso,style:{textTransform:"uppercase"},onChange:k}))),r.a.createElement("div",{className:"col-sm-2 col-lg-2"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"semestre"},"Semestre:"),r.a.createElement("input",{className:"form-control",type:"text",id:"semestre",name:"semestre",value:s.semestre,onChange:k}))),r.a.createElement("div",{className:"col-sm-4 col-lg-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"data_retirada"},"Data Retirada:"),r.a.createElement("input",{className:"form-control",type:"date",id:"data_retirada",name:"data_retirada",value:s.data_retirada,onChange:k}))),l.id_retirada?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col-sm-8 col-md-8 col-lg-8"},r.a.createElement("label",{htmlFor:"livro"},"Livro:"),r.a.createElement(re,{className:"form-control",id:"livro",name:"livro",suggestions:O,onClick:function(e){return function(e){i(Object(W.a)({},s,{livro:e.nome,id_livroRetirada:e.id_livro}))}(e)},field:"nome",value:s.livro,onChange:k})),r.a.createElement("div",{className:"col-sm-2 col-md-2 col-lg-2"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"id_livroRetirada"},"ID:"),r.a.createElement("input",{className:"form-control",type:"text",id:"id_livroRetirada",name:"id_livroRetirada",value:null===s||void 0===s?void 0:s.id_livroRetirada,onChange:k,disabled:!0})))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col-sm-8 col-md-8 col-lg-8 my-4"},r.a.createElement("label",{htmlFor:"livros"},"Adicionar livro:"),r.a.createElement(re,{className:"form-control",id:"livros",name:"livros",suggestions:O,onClick:function(e){return L(e)},field:"nome",value:d,onChange:function(e){v(e.target.value)}})),r.a.createElement("div",{className:"col-md-12",style:{maxHeight:"50vh"}},r.a.createElement(B,{data:f,maxHeight:"20vh"},r.a.createElement(T,{campo:"nome",titulo:"Nome",tamanho:"7"}),r.a.createElement(T,{campo:"autor",titulo:"Autor",tamanho:"7"}),r.a.createElement(T,{campo:"id_livro",titulo:"Op\xe7\xf5es",tamanho:"2",corpo:function(e){return function(e){return r.a.createElement("button",{className:"btn btn-danger btn-sm",onClick:function(){return L(e)}},"Remover")}(e)}})))))),r.a.createElement(J.a,null,s.criadoPor&&s.alteradoPor&&r.a.createElement("div",{style:{left:"1em",position:"absolute"}},r.a.createElement("p",{className:"h6 -text-dark"},"Criado por:",r.a.createElement("span",{className:"text-primary"},s.criadoPor)," ","no dia"," ",r.a.createElement("span",{className:"text-primary"},Q.converteData(s,"dataCriado","DD/MM/YYYY"))),r.a.createElement("p",{className:"h6 -text-dark"},"Alterado por:",r.a.createElement("span",{className:"text-primary"},s.alteradoPor)," ","no dia"," ",r.a.createElement("span",{className:"text-primary"},Q.converteData(s,"dataAlterado","DD/MM/YYYY")))),C&&r.a.createElement("div",{className:"bg-"+C.className+" align-middle rounded",style:{minWidth:"30em",left:"1em",position:"absolute"}},r.a.createElement("p",{className:"text-white px-2 align-middle",style:{fontSize:20}},C.mensagem)),r.a.createElement("button",{type:"submit",className:"btn btn-success",onClick:_},"Salvar")," ",r.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:a},"Cancelar"))))},oe=function(e){var t=e.show,a=e.handleShow,l=Object(n.useState)({dataInicio:"0000-00-00",dataFim:"0000-00-00"}),o=Object(N.a)(l,2),s=o[0],i=o[1],m=function(e){console.log(e.target),i(Object(W.a)({},s,Object(M.a)({},e.target.name,e.target.value)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a,{isOpen:t,toggle:a},r.a.createElement(U.a,{toggle:a},"Relat\xf3rio de Retiradas"),r.a.createElement(G.a,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"dataInicio"},"Data inicio:"),r.a.createElement("input",{className:"form-control",id:"dataInicio",name:"dataInicio",type:"date",value:s.dataInicio,onChange:m}))),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"dataFim"},"Data fim:"),r.a.createElement("input",{className:"form-control",id:"dataFim",name:"dataFim",type:"date",value:s.dataFim,onChange:m}))))),r.a.createElement(J.a,null,r.a.createElement(c.b,{to:"/relatorio/retiradas/"+s.dataInicio+"/"+s.dataFim,target:"_blank",className:"btn btn-success btn-lg"},"Gerar Relat\xf3rio"))))},ce=function(){var e=Object(n.useState)([]),t=Object(N.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)([]),c=Object(N.a)(o,2),s=c[0],i=c[1],m=Object(n.useState)(""),u=Object(N.a)(m,2),d=u[0],v=u[1],p=Object(n.useState)(!1),b=Object(N.a)(p,2),f=b[0],g=b[1],E=Object(n.useState)(!1),y=Object(N.a)(E,2),O=y[0],j=y[1],w=Object(n.useState)({}),x=Object(N.a)(w,2),C=x[0],S=x[1],k=Object(n.useState)(""),L=Object(N.a)(k,2),D=L[0],_=L[1],A=Object(n.useState)(""),I=Object(N.a)(A,2),z=I[0],q=I[1];Object(n.useEffect)((function(){(function(){var e=Object(R.a)(F.a.mark((function e(){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=h(),e.next=3,Y.get("retiradas",{headers:{Authorization:"Bearer ".concat(t.token)}}).then((function(e){l(e.data),i(e.data)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[f]);var M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};S(e),g(!f)},W=function(){var e=Object(R.a)(F.a.mark((function e(t){var a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=h(),e.next=3,Y.delete("retiradas/"+t,{headers:{Authorization:"Bearer ".concat(a.token)}}).then((function(e){e.data.error?(_(e.data.error),q("bg-danger")):(_("Retirada removida com sucesso!"),q("bg-success"),l(e.data),i(e.data))}));case 3:setTimeout((function(){_("")}),5e3);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:"navbar navbar-expand-lg"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("button",{className:"btn btn-info mr-2",onClick:function(){return j(!O)}},"Gerar Relat\xf3rio")),r.a.createElement("input",{className:"form-control col-md-5",type:"text",placeholder:"Pesquisar...",value:d,onChange:function(e){var t=a.filter((function(t){return t.nome.toLowerCase().includes(e.target.value.toLowerCase())}));v(e.target.value),i(t)}})),r.a.createElement("div",{className:"mx-2 pb-5"},r.a.createElement("div",{className:"card align-items-center",style:{height:"76vh"}},r.a.createElement("div",{className:"col-12"},r.a.createElement(B,{data:s,titulo:"Retiradas",mostrarBotaoNovo:!0,tituloBotao:"Nova retirada",handleShow:M},r.a.createElement(T,{campo:"ra",titulo:"RA",tamanho:"2"}),r.a.createElement(T,{campo:"nome",titulo:"Nome",tamanho:"8"}),r.a.createElement(T,{campo:"curso",titulo:"Curso",tamanho:"2"}),r.a.createElement(T,{campo:"semestre",titulo:"Semestre",tamanho:"2"}),r.a.createElement(T,{campo:"livro",titulo:"Livro",tamanho:"8"}),r.a.createElement(T,{titulo:"Op\xe7\xf5es",corpo:function(e){return function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"btn btn-primary btn-sm mx-2",onClick:function(){return M(e)}},"Editar"),r.a.createElement("button",{className:"btn btn-danger btn-sm mx-2",onClick:function(){return W(e.id_retirada)}},"Remover"))}(e)},tamanho:"5"})),D&&r.a.createElement("div",{className:z+" d-flex justify-content-center align-items-center rounded w-50",style:{maxHeight:"10vh"}},r.a.createElement("p",{className:"text-white",style:{fontSize:20}},D))))),r.a.createElement(le,{show:f,handleShow:M,data:C}),r.a.createElement(oe,{show:O,handleShow:function(){return j(!O)}}))},se=function(e){var t=e.show,a=e.handleShow,l=e.data,o=Object(n.useState)({}),c=Object(N.a)(o,2),s=c[0],i=c[1],m=Object(n.useState)(""),u=Object(N.a)(m,2),d=u[0],v=u[1],p=Object(n.useState)([]),b=Object(N.a)(p,2),f=b[0],g=b[1],E=Object(n.useState)([]),y=Object(N.a)(E,2),O=y[0],j=y[1],w=Object(n.useState)({}),x=Object(N.a)(w,2),C=x[0],S=x[1];Object(n.useEffect)((function(){i(l)}),[l]),Object(n.useEffect)((function(){(function(){var e=Object(R.a)(F.a.mark((function e(){var t,a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=h(),e.next=3,Y.get("livros",{headers:{Authorization:"Bearer ".concat(t.token)},params:{emEstoque:!0}});case 3:a=e.sent,j(a.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.useEffect)((function(){setTimeout((function(){S({})}),5e3)}),[C]);var k=function(e){i(Object(W.a)({},s,Object(M.a)({},e.target.name,e.target.value)))},L=function(e){if(f.findIndex((function(t){return t.id_livro===e.id_livro}))>=0){var t=f.filter((function(t){return t.id_livro!==e.id_livro}));g(t)}else g([].concat(Object(D.a)(f),[e]));v("")},_=function(){var e=Object(R.a)(F.a.mark((function e(t){var a,n,r;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a="",n=h(),r={headers:{Authorization:"Bearer ".concat(n.token)}},e.prev=4,e.next=7,Y.put("/importarRetirada",s,r);case 7:(a=e.sent).data.error?S({mensagem:a.data.error,className:"danger"}):(S({mensagem:"Retirada cadastrada com sucesso",className:"success"}),i({ra:"",nome:"",curso:"",semestre:"",data_retirada:""}),g([])),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),console.log(e.t0);case 14:setTimeout((function(){S({})}),5e3);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a,{isOpen:t,toggle:a,className:"modal-lg"},r.a.createElement(U.a,{toggle:a},(null===s||void 0===s?void 0:s.nome)?null===s||void 0===s?void 0:s.nome:"Nova retirada"),r.a.createElement(G.a,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-2 col-lg-2"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"id"},"ID:"),r.a.createElement("input",{className:"form-control",type:"text",id:"id",name:"id",value:s.id,onChange:k,disabled:!0}))),r.a.createElement("div",{className:"col-sm-3 col-lg-3"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"ra"},"RA:"),r.a.createElement("input",{className:"form-control",type:"text",id:"ra",name:"ra",value:s.ra,onChange:k}))),r.a.createElement("div",{className:"col-sm-7 col-lg-7"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"nome"},"Nome:"),r.a.createElement("input",{className:"form-control",type:"text",id:"nome",name:"nome",value:s.nome,onChange:k}))),r.a.createElement("div",{className:"col-sm-6 col-lg-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"curso"},"Curso:"),r.a.createElement("input",{className:"form-control",type:"text",id:"curso",name:"curso",value:s.curso,style:{textTransform:"uppercase"},onChange:k}))),r.a.createElement("div",{className:"col-sm-2 col-lg-2"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"semestre"},"Semestre:"),r.a.createElement("input",{className:"form-control",type:"text",id:"semestre",name:"semestre",value:s.semestre,onChange:k}))),l.id?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col-sm-8 col-md-8 col-lg-8"},r.a.createElement("label",{htmlFor:"livro"},"Livro:"),r.a.createElement(re,{className:"form-control",id:"livro",name:"livro",suggestions:O,onClick:function(e){return function(e){i(Object(W.a)({},s,{livro:e.nome,chEsLivro:e.id_livro}))}(e)},field:"nome",value:s.livro,onChange:k})),r.a.createElement("div",{className:"col-sm-2 col-md-2 col-lg-2"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"chEsLivro"},"ID:"),r.a.createElement("input",{className:"form-control",type:"text",id:"chEsLivro",name:"chEsLivro",value:null===s||void 0===s?void 0:s.chEsLivro,onChange:k,disabled:!0})))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col-sm-8 col-md-8 col-lg-8 my-4"},r.a.createElement("label",{htmlFor:"livros"},"Adicionar livro:"),r.a.createElement(re,{className:"form-control",id:"livros",name:"livros",suggestions:O,onClick:function(e){return L(e)},field:"nome",value:d,onChange:function(e){v(e.target.value)}})),r.a.createElement("div",{className:"col-md-12",style:{maxHeight:"50vh"}},r.a.createElement(B,{data:f,maxHeight:"20vh"},r.a.createElement(T,{campo:"nome",titulo:"Nome",tamanho:"7"}),r.a.createElement(T,{campo:"autor",titulo:"Autor",tamanho:"7"}),r.a.createElement(T,{campo:"chEsLivro",titulo:"Op\xe7\xf5es",tamanho:"2",corpo:function(e){return function(e){return r.a.createElement("button",{className:"btn btn-danger btn-sm",onClick:function(){return L(e)}},"Remover")}(e)}})))))),r.a.createElement(J.a,null,s.criadoPor&&s.alteradoPor&&r.a.createElement("div",{style:{left:"1em",position:"absolute"}},r.a.createElement("p",{className:"h6 -text-dark"},"Criado por:",r.a.createElement("span",{className:"text-primary"},s.criadoPor)," ","no dia"," ",r.a.createElement("span",{className:"text-primary"},Q.converteData(s,"dataCriado","DD/MM/YYYY"))),r.a.createElement("p",{className:"h6 -text-dark"},"Alterado por:",r.a.createElement("span",{className:"text-primary"},s.alteradoPor)," ","no dia"," ",r.a.createElement("span",{className:"text-primary"},Q.converteData(s,"dataAlterado","DD/MM/YYYY")))),C&&r.a.createElement("div",{className:"bg-"+C.className+" align-middle rounded",style:{minWidth:"30em",left:"1em",position:"absolute"}},r.a.createElement("p",{className:"text-white px-2 align-middle",style:{fontSize:20}},C.mensagem)),r.a.createElement("button",{type:"submit",className:"btn btn-success",onClick:_},"Salvar")," ",r.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:a},"Cancelar"))))},ie=a(323),me=a.n(ie),ue=function(e){var t=e.show,a=e.handleShow,l=Object(n.useState)(0),o=Object(N.a)(l,2),c=o[0],s=o[1],i=Object(n.useState)({}),m=Object(N.a)(i,2),u=m[0],d=m[1],v=Object(n.useState)([]),p=Object(N.a)(v,2),b=p[0],f=p[1],g=Object(n.useState)(!1),E=Object(N.a)(g,2),y=E[0],O=E[1],j=Object(n.useState)({}),w=Object(N.a)(j,2),x=w[0],C=w[1],S=function(){var e=Object(R.a)(F.a.mark((function e(t){var a,n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),0!==c){e.next=4;break}return C({mensagem:"Por favor, selecione um semestre.",className:"danger"}),e.abrupt("return");case 4:O(!0),a=h(),n=b.map((function(e){return""!==e.ra?{ra:e.ra,nome:e.nome,curso:e.curso,semestre:c,livro:e.livro}:null})),Y.post("/importarRetirada",n,{headers:{Authorization:"Bearer ".concat(a.token)}}).then((function(e){C({mensagem:e.data.mensagem,className:"success"}),O(!1)})).catch((function(e){O(!1),console.log(e),C({mensagem:"Erro ao tentar importar os dados.",className:"danger"})}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a,{isOpen:t,toggle:a,className:"modal-xl"},r.a.createElement(U.a,{toggle:a},"Importar Retiradas"),r.a.createElement(G.a,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-2"},r.a.createElement("select",{className:"custom-select",name:"semestre",value:c,onChange:function(e){return s(e.target.value)}},r.a.createElement("option",{value:"0"},"Semestre..."),r.a.createElement("option",{value:"1"},"01"),r.a.createElement("option",{value:"2"},"02"))),r.a.createElement("div",{className:"col-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"file",className:"form-control-file",id:"file",onChange:function(e){var t=e.target.files;t&&t[0]&&d(t[0])}}))),r.a.createElement("div",{className:"col-4"},r.a.createElement("button",{type:"button",className:"btn btn-success",disabled:y,onClick:function(){O(!0);var e=new FileReader;e.onload=function(e){var t=e.target.result,a=me.a.read(t,{type:"array",bookVBA:!0}),n=a.SheetNames[0],r=a.Sheets[n],l=me.a.utils.sheet_to_json(r,{header:["ra","nome","unidade","curso","livro"]});l.splice(0,1),f(l)},e.readAsArrayBuffer(u),O(!1)}},y?"Aguarde...":"Importar"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement(B,{data:b,titulo:"Retiradas Importadas"},r.a.createElement(T,{campo:"ra",titulo:"RA"}),r.a.createElement(T,{campo:"nome",titulo:"Aluno"}),r.a.createElement(T,{campo:"curso",titulo:"Curso"}),r.a.createElement(T,{campo:"livro",titulo:"Livro"}))))),r.a.createElement(J.a,null,x&&r.a.createElement("div",{className:"bg-"+x.className+" align-middle rounded d-flex align-items-center justify-content-center",style:{minWidth:"30em",left:"1em",position:"absolute"}},r.a.createElement("p",{className:"text-white"},x.mensagem)),r.a.createElement("button",{type:"submit",className:"btn btn-success mr-2",onClick:S,disabled:y},"Salvar"),r.a.createElement("button",{type:"button",className:"btn btn-danger ml-2",onClick:a},"Cancelar"))))},de=function(){var e=h(),t=Object(n.useState)([]),a=Object(N.a)(t,2),l=a[0],o=a[1],c=Object(n.useState)([]),s=Object(N.a)(c,2),i=s[0],m=s[1],u=Object(n.useState)(""),d=Object(N.a)(u,2),v=d[0],p=d[1],b=Object(n.useState)(!1),f=Object(N.a)(b,2),g=f[0],E=f[1],y=Object(n.useState)({}),O=Object(N.a)(y,2),j=O[0],w=O[1],x=Object(n.useState)(""),C=Object(N.a)(x,2),S=C[0],k=C[1],L=Object(n.useState)(""),_=Object(N.a)(L,2),A=_[0],I=_[1],z=Object(n.useState)(!1),q=Object(N.a)(z,2),M=q[0],W=q[1],P=Object(n.useState)([]),H=Object(N.a)(P,2),U=H[0],G=H[1],J=Object(n.useState)(0),K=Object(N.a)(J,2),Q=K[0],V=K[1],X=Object(n.useState)([]),Z=Object(N.a)(X,2),$=Z[0],ee=Z[1],te=Object(n.useState)((new Date).getFullYear()),ae=Object(N.a)(te,2),ne=ae[0],re=ae[1];Object(n.useEffect)((function(){(function(){var t=Object(R.a)(F.a.mark((function t(){return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Y.get("importacoes",{params:{semestre:Q,anoSemestre:ne},headers:{Authorization:"Bearer ".concat(e.token)}}).then((function(e){o(e.data),m(e.data)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[Q,ne]),Object(n.useEffect)((function(){var e=(new Date).getFullYear()-6,t=(new Date).getFullYear()+5,a=Array(t-e).fill("").map((function(e,a){return t-a}));ee(a)}),[]),Object(n.useEffect)((function(){setTimeout((function(){k(""),I("")}),3e3)}),[S]);var le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};w(e),E(!g)},oe=function(){W(!M)},ce=function(){var t=Object(R.a)(F.a.mark((function t(){var a,n;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Y.put("/importacoes",U,{headers:{Authorization:"Bearer ".concat(e.token)}});case 2:(a=t.sent).data.error?(k(a.data.error),I("bg-danger")):(n=l.filter((function(e){return!U.includes(e.id)})),o(n),m(n),G([]),k("Retirada salva com sucesso."),I("bg-success"));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ie=function(e){return r.a.createElement("input",{type:"checkbox",value:e.id,onChange:function(){return function(e){if(U.findIndex((function(t){return t===e}))>=0){var t=U.filter((function(t){return t!==e}));G(t)}else G([].concat(Object(D.a)(U),[e]))}(e.id)},title:"Selecionar para retirar -> ".concat(e.id," - ").concat(e.nome),checked:U.includes(e.id)})};return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:"navbar navbar-expand-lg"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("button",{className:"btn btn-primary ml-2",onClick:function(){return oe()}},"Importar Retiradas")),r.a.createElement("input",{className:"form-control col-md-5",type:"text",placeholder:"Pesquisar...",value:v,onChange:function(e){var t=l.filter((function(t){return t.nome.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").includes(e.target.value.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""))}));p(e.target.value),m(t)}})),r.a.createElement("div",{className:"mx-2 pb-5"},r.a.createElement("div",{className:"card align-items-center",style:{height:"76vh"}},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"row my-3"},r.a.createElement("div",{className:"col-1"},r.a.createElement("select",{name:"semestre",id:"semestre",className:"custom-select",value:Q,onChange:function(e){return V(e.target.value)}},r.a.createElement("option",{value:"0"},"Semestre"),r.a.createElement("option",{value:"1"},"01"),r.a.createElement("option",{value:"2"},"02"))),r.a.createElement("div",{className:"col-1"},r.a.createElement("select",{name:"anoSemestre",id:"anoSemestre",className:"custom-select",value:ne,onChange:function(e){return re(e.target.value)}},$.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)})))),S&&r.a.createElement("div",{className:A,style:{maxHeight:"3vh",borderRadius:"3rem",minWidth:"30vw",display:"flex",justifyContent:"center"}},r.a.createElement("p",{className:"text-white",style:{fontSize:20,lineHeight:1}},S))),r.a.createElement(B,{data:i,titulo:"Retiradas importadas",tituloBotao:"Salvar",mostrarBotaoNovo:l.length,handleShow:ce},r.a.createElement(T,{campo:"id",titulo:r.a.createElement("input",{type:"checkbox",onChange:function(e){if(e.target.checked){var t=l.map((function(e){return e.id}));G(t)}else G([])},title:"Selecionar todos para retirar"}),tamanho:"2",corpo:function(e){return ie(e)}}),r.a.createElement(T,{campo:"ra",titulo:"RA",tamanho:"4"}),r.a.createElement(T,{campo:"nome",titulo:"Nome",tamanho:"10"}),r.a.createElement(T,{campo:"curso",titulo:"Curso",tamanho:"4"}),r.a.createElement(T,{campo:"livro",titulo:"Livro",tamanho:"10"}),r.a.createElement(T,{titulo:"Op\xe7\xf5es",corpo:function(e){return function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"btn btn-primary btn-sm mx-2",onClick:function(){return le(e)}},"Editar"))}(e)},tamanho:"2"}))))),r.a.createElement(se,{show:g,handleShow:le,data:j}),r.a.createElement(ue,{show:M,handleShow:oe}))},ve=function(e){var t=e.show,a=e.handleShow,l=e.data,o=Object(n.useState)({}),c=Object(N.a)(o,2),s=c[0],i=c[1],m=Object(n.useState)({}),u=Object(N.a)(m,2),d=u[0],v=u[1];Object(n.useEffect)((function(){i(l)}),[l]),Object(n.useEffect)((function(){setTimeout((function(){v({})}),1e4)}),[d]);var p=function(e){i(Object(W.a)({},s,Object(M.a)({},e.target.name,e.target.value)))},b=function(){var e=Object(R.a)(F.a.mark((function e(t){var a,n,r;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a="",n=h(),r={headers:{Authorization:"Bearer ".concat(n.token)}},e.prev=4,!(s.id>0)){e.next=11;break}return e.next=8,Y.put("usuarios",s,r);case 8:a=e.sent,e.next=14;break;case 11:return e.next=13,Y.post("usuarios",s,r);case 13:a=e.sent;case 14:a.data.error?v({mensagem:a.data.error,className:"danger"}):v({mensagem:"Usu\xe1rio cadastrado com sucesso!",className:"success"}),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(4),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[4,17]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a,{isOpen:t,toggle:a,className:"modal-lg"},r.a.createElement(U.a,{toggle:a},(null===s||void 0===s?void 0:s.nome)?null===s||void 0===s?void 0:s.nome:"Novo usu\xe1rio"),r.a.createElement(G.a,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-2 col-lg-2"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"id"},"ID:"),r.a.createElement("input",{className:"form-control",type:"text",id:"id",name:"id",value:null===s||void 0===s?void 0:s.id,disabled:!0}))),r.a.createElement("div",{className:"col-sm-12"}),r.a.createElement("div",{className:"col-sm-10 col-lg-10"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"nome"},"Nome:"),r.a.createElement("input",{className:"form-control",type:"text",id:"nome",name:"nome",value:null===s||void 0===s?void 0:s.nome,onChange:p,required:!0}))),r.a.createElement("div",{className:"col-sm-10 col-lg-10"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"nomeUsuario"},"Nome de Usu\xe1rio:"),r.a.createElement("input",{className:"form-control",type:"text",id:"autor",name:"nomeUsuario",value:null===s||void 0===s?void 0:s.nomeUsuario,onChange:p,required:!0}))),r.a.createElement("div",{className:"col-sm-10 col-lg-10"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"E-mail:"),r.a.createElement("input",{className:"form-control",type:"email",id:"email",name:"email",value:null===s||void 0===s?void 0:s.email,onChange:p,required:!0}))),r.a.createElement("div",{className:"col-sm-4 col-lg-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"nivel"},"N\xedvel:"),r.a.createElement("select",{name:"nivel",value:null===s||void 0===s?void 0:s.nivel,className:"custom-select",onChange:p,required:!0},r.a.createElement("option",{value:"1"},"Normal"),r.a.createElement("option",{value:"2"},"Admin")))))),r.a.createElement(J.a,null,d&&r.a.createElement("div",{className:"bg-"+d.className+" align-middle rounded",style:{minWidth:"30em",left:"1em",position:"absolute"}},r.a.createElement("p",{className:"text-white px-2 align-middle",style:{fontSize:20}},d.mensagem)),r.a.createElement("button",{type:"submit",className:"btn btn-success",onClick:b},"Salvar")," ",r.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:a},"Cancelar"))))},pe=function(e){var t=e.show,a=e.handleShow,l=Object(n.useState)("todos"),o=Object(N.a)(l,2),s=o[0],i=o[1],m=function(e){i(e.target.value)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a,{isOpen:t,toggle:a},r.a.createElement(U.a,{toggle:a},"Relat\xf3rio de Livros"),r.a.createElement(G.a,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-6"},"Tipo do livro:"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("div",{className:"custom-control custom-radio"},r.a.createElement("input",{className:"custom-control-input",id:"todos",type:"radio",name:"tipo",value:"todos",checked:"todos"===s,onClick:m}),r.a.createElement("label",{className:"custom-control-label",for:"todos"},"Todos")),r.a.createElement("div",{className:"custom-control custom-radio"},r.a.createElement("input",{className:"custom-control-input",id:"engenharia",name:"tipo",type:"radio",value:"engenharia",checked:"engenharia"===s,onClick:m}),r.a.createElement("label",{className:"custom-control-label",for:"engenharia"},"Engenharia")),r.a.createElement("div",{className:"custom-control custom-radio"},r.a.createElement("input",{className:"custom-control-input",id:"normal",name:"tipo",type:"radio",value:"normal",checked:"normal"===s,onClick:m}),r.a.createElement("label",{className:"custom-control-label",for:"normal"},"Normal"))))),r.a.createElement(J.a,null,r.a.createElement(c.b,{to:"/relatorio/livros/"+s,target:"_blank",className:"btn btn-success btn-lg"},"Gerar Relat\xf3rio"))))},be=function(){var e=Object(n.useState)([]),t=Object(N.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)([]),c=Object(N.a)(o,2),s=c[0],i=c[1],m=Object(n.useState)(""),u=Object(N.a)(m,2),d=u[0],v=u[1],p=Object(n.useState)(!1),b=Object(N.a)(p,2),f=b[0],g=b[1],E=Object(n.useState)(!1),y=Object(N.a)(E,2),O=y[0],j=y[1],w=Object(n.useState)({}),x=Object(N.a)(w,2),C=x[0],S=x[1],k=Object(n.useState)(""),L=Object(N.a)(k,2),D=L[0],_=L[1],A=Object(n.useState)(""),I=Object(N.a)(A,2),z=I[0],q=I[1];Object(n.useEffect)((function(){(function(){var e=Object(R.a)(F.a.mark((function e(){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=h(),e.next=3,Y.get("usuarios",{headers:{Authorization:"Bearer ".concat(t.token)}}).then((function(e){l(e.data),i(e.data)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[f]);var M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};S(e),g(!f)},W=function(){var e=Object(R.a)(F.a.mark((function e(t){var a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=h(),e.next=3,Y.delete("usuarios/"+t,{headers:{Authorization:"Bearer ".concat(a.token)}}).then((function(e){e.data.error?(_(e.data.error),q("bg-danger")):(_("Usu\xe1rio removido com sucesso!"),q("bg-success"),l(e.data),i(e.data))}));case 3:setTimeout((function(){_("")}),5e3);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:"navbar navbar-expand-lg"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("button",{className:"btn btn-info",onClick:function(){return j(!O)}},"Gerar Relat\xf3rio")),r.a.createElement("input",{className:"form-control col-md-5",type:"text",placeholder:"Pesquisar...",value:d,onChange:function(e){var t=a.filter((function(t){return t.nome.toLowerCase().includes(e.target.value.toLowerCase())}));v(e.target.value),i(t)}})),r.a.createElement("div",{className:"mx-2 pb-5"},r.a.createElement("div",{className:"card align-items-center",style:{height:"80vh"}},r.a.createElement("div",{className:"row col-12"},r.a.createElement(B,{data:s,titulo:"Usu\xe1rios",mostrarBotaoNovo:!0,tituloBotao:"Novo usu\xe1rio",handleShow:M},r.a.createElement(T,{campo:"id",titulo:"#",tamanho:"1"}),r.a.createElement(T,{campo:"nome",titulo:"Nome",tamanho:"7"}),r.a.createElement(T,{campo:"nomeUsuario",titulo:"Nome de usu\xe1rio",tamanho:"7"}),r.a.createElement(T,{campo:"email",titulo:"E-mail",tamanho:"7"}),r.a.createElement(T,{campo:"nivel",titulo:"Nivel",tamanho:"3",corpo:function(e){return 2===e.nivel?"Admin":"Normal"}}),r.a.createElement(T,{titulo:"Op\xe7\xf5es",corpo:function(e){return function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"btn btn-primary btn-sm mx-2",onClick:function(){return M(e)}},"Editar"),r.a.createElement("button",{className:"btn btn-danger btn-sm mx-2",onClick:function(){return W(e.id)}},"Remover"))}(e)},tamanho:"5"})),D&&r.a.createElement("div",{className:z+" d-flex justify-content-center align-items-center rounded w-50",style:{maxHeight:"10vh"}},r.a.createElement("p",{className:"text-white",style:{fontSize:20}},D))))),r.a.createElement(ve,{show:f,handleShow:M,data:C}),r.a.createElement(pe,{show:O,handleShow:function(){return j(!O)}}))},fe=a(7),ge=fe.e.create({page:{display:"flex",flexDirection:"column",width:"90%",fontSize:10,paddingTop:"7vh",paddingRight:"5vh",paddingBottom:"5vh",paddingLeft:"7vh"},titulo:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"flex-start",alignItems:"flex-end",paddingBottom:3},table:{display:"table",width:"auto",borderStyle:"solid",borderWidth:1,borderRightWidth:0,borderBottomWidth:0},tableRow:{margin:"auto",flexDirection:"row"},tableCol:{width:"25%",borderStyle:"solid",borderWidth:1,borderLeftWidth:0,borderTopWidth:0},tableCell:{margin:"auto",marginTop:5,paddingLeft:2,paddingRight:2,fontSize:10},image:{height:50,width:100,marginRight:30}}),Ee=function(){var e=Object(n.useState)([]),t=Object(N.a)(e,2),a=t[0],l=t[1],o=Object(s.g)().param;return Object(n.useEffect)((function(){(function(){var e=Object(R.a)(F.a.mark((function e(){var t,a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=h(),e.next=3,Y.get("relatorioLivros",{params:{tipo:o},headers:{Authorization:"Bearer ".concat(t.token)}});case 3:if(!(a=e.sent).data.error){e.next=6;break}return e.abrupt("return");case 6:l(a.data);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement(fe.c,{width:"100%",height:window.innerHeight+"px",onLoadError:function(e){return alert("Error while loading document! "+e.message)}},r.a.createElement(fe.a,{title:"Relat\xf3rio de livros",onLoadError:function(e){return alert("Error while loading document! "+e.message)},style:{padding:"2vh"}},r.a.createElement(fe.d,{size:"A4",style:ge.page},r.a.createElement(fe.g,{style:ge.titulo},r.a.createElement(fe.b,{src:"assets/Logo2.png",style:ge.image,fixed:!0}),r.a.createElement(fe.f,{style:{fontSize:30},fixed:!0},"Relat\xf3rio de Livros")),r.a.createElement(fe.g,{style:ge.table},r.a.createElement(fe.g,{style:ge.tableRow,fixed:!0},r.a.createElement(fe.g,{style:[ge.tableCol,{width:"7vh",backgroundColor:"#ccc"}]},r.a.createElement(fe.f,{style:ge.tableCell},"#")),r.a.createElement(fe.g,{style:[ge.tableCol,{width:"70vh",backgroundColor:"#ccc"}]},r.a.createElement(fe.f,{style:ge.tableCell},"Nome do livro")),r.a.createElement(fe.g,{style:[ge.tableCol,{width:"50vh",backgroundColor:"#ccc"}]},r.a.createElement(fe.f,{style:ge.tableCell},"Autor")),r.a.createElement(fe.g,{style:[ge.tableCol,{width:"12vh",backgroundColor:"#ccc"}]},r.a.createElement(fe.f,{style:ge.tableCell},"Qtde")),r.a.createElement(fe.g,{style:[ge.tableCol,{width:"30vh",backgroundColor:"#ccc"}]},r.a.createElement(fe.f,{style:ge.tableCell},"Tipo"))),a.map((function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(fe.g,{key:t,style:ge.tableRow},r.a.createElement(fe.g,{style:[ge.tableCol,{width:"7vh"}]},r.a.createElement(fe.f,{style:ge.tableCell},e.id_livro)),r.a.createElement(fe.g,{style:[ge.tableCol,{width:"70vh"}]},r.a.createElement(fe.f,{style:ge.tableCell},e.nome)),r.a.createElement(fe.g,{style:[ge.tableCol,{width:"50vh"}]},r.a.createElement(fe.f,{style:ge.tableCell},e.autor)),r.a.createElement(fe.g,{style:[ge.tableCol,{width:"12vh",alignItems:"flex-end"}]},r.a.createElement(fe.f,{style:ge.tableCell},e.quantidade)),r.a.createElement(fe.g,{style:[ge.tableCol,{width:"30vh"}]},r.a.createElement(fe.f,{style:ge.tableCell},e.tipo))))}))))))},he=fe.e.create({page:{display:"flex",flexDirection:"column",width:"90%",fontSize:10,paddingTop:"7vh",paddingRight:"5vh",paddingBottom:"5vh",paddingLeft:"7vh"},titulo:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"flex-start",alignItems:"flex-end",paddingBottom:3},table:{display:"table",width:"auto",borderStyle:"solid",borderWidth:1,borderRightWidth:0,borderBottomWidth:0},tableRow:{margin:"auto",flexDirection:"row"},tableCol:{width:"25%",borderStyle:"solid",borderWidth:1,borderLeftWidth:0,borderTopWidth:0},tableCell:{margin:"auto",marginTop:5,paddingLeft:2,paddingRight:2,fontSize:10},image:{height:50,width:100,marginRight:30}}),Ne=function(){var e=Object(n.useState)([]),t=Object(N.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)((function(){(function(){var e=Object(R.a)(F.a.mark((function e(){var t,a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=h(),e.next=3,Y.get("relatorioLivros",{params:{tipo:"todos",emBaixa:!0},headers:{Authorization:"Bearer ".concat(t.token)}});case 3:if(!(a=e.sent).data.error){e.next=6;break}return e.abrupt("return");case 6:l(a.data);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement(fe.c,{width:"100%",height:window.innerHeight+"px",onLoadError:function(e){return alert("Error while loading document! "+e.message)}},r.a.createElement(fe.a,{title:"Relat\xf3rio de livros",onLoadError:function(e){return alert("Error while loading document! "+e.message)},style:{padding:"2vh"}},r.a.createElement(fe.d,{size:"A4",style:he.page},r.a.createElement(fe.g,{style:he.titulo},r.a.createElement(fe.b,{src:"assets/Logo2.png",style:he.image,fixed:!0}),r.a.createElement(fe.f,{style:{fontSize:30},fixed:!0},"Relat\xf3rio de Livros")),r.a.createElement(fe.g,{style:he.table},r.a.createElement(fe.g,{style:he.tableRow,fixed:!0},r.a.createElement(fe.g,{style:[he.tableCol,{width:"7vh",backgroundColor:"#ccc"}]},r.a.createElement(fe.f,{style:he.tableCell},"#")),r.a.createElement(fe.g,{style:[he.tableCol,{width:"70vh",backgroundColor:"#ccc"}]},r.a.createElement(fe.f,{style:he.tableCell},"Nome do livro")),r.a.createElement(fe.g,{style:[he.tableCol,{width:"50vh",backgroundColor:"#ccc"}]},r.a.createElement(fe.f,{style:he.tableCell},"Autor")),r.a.createElement(fe.g,{style:[he.tableCol,{width:"12vh",backgroundColor:"#ccc"}]},r.a.createElement(fe.f,{style:he.tableCell},"Qtde")),r.a.createElement(fe.g,{style:[he.tableCol,{width:"30vh",backgroundColor:"#ccc"}]},r.a.createElement(fe.f,{style:he.tableCell},"Tipo"))),a.map((function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(fe.g,{key:t,style:he.tableRow},r.a.createElement(fe.g,{style:[he.tableCol,{width:"7vh"}]},r.a.createElement(fe.f,{style:he.tableCell},e.id_livro)),r.a.createElement(fe.g,{style:[he.tableCol,{width:"70vh"}]},r.a.createElement(fe.f,{style:he.tableCell},e.nome)),r.a.createElement(fe.g,{style:[he.tableCol,{width:"50vh"}]},r.a.createElement(fe.f,{style:he.tableCell},e.autor)),r.a.createElement(fe.g,{style:[he.tableCol,{width:"12vh",alignItems:"flex-end"}]},r.a.createElement(fe.f,{style:he.tableCell},e.quantidade)),r.a.createElement(fe.g,{style:[he.tableCol,{width:"30vh"}]},r.a.createElement(fe.f,{style:he.tableCell},e.tipo))))}))))))},ye=fe.e.create({page:{display:"flex",flexDirection:"column",width:"90%",fontSize:10,paddingTop:"7vh",paddingRight:"5vh",paddingBottom:"5vh",paddingLeft:"7vh"},titulo:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"flex-start",alignItems:"flex-end",paddingBottom:3},table:{display:"table",width:"auto",borderStyle:"solid",borderWidth:1,borderRightWidth:0,borderBottomWidth:0},tableRow:{margin:"auto",flexDirection:"row"},tableCol:{width:"25%",borderStyle:"solid",borderWidth:1,borderLeftWidth:0,borderTopWidth:0},tableCell:{margin:"auto",marginTop:5,paddingLeft:2,paddingRight:2,fontSize:10},image:{height:50,width:100,marginRight:30}}),Oe=function(){var e=Object(n.useState)([]),t=Object(N.a)(e,2),a=t[0],l=t[1],o=Object(s.g)(),c=o.dataInicio,i=o.dataFim;return Object(n.useEffect)((function(){(function(){var e=Object(R.a)(F.a.mark((function e(){var t,a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=h(),e.next=3,Y.get("relatorioRetiradas",{params:{dataInicio:c,dataFim:i},headers:{Authorization:"Bearer ".concat(t.token)}});case 3:if(!(a=e.sent).data.error){e.next=6;break}return e.abrupt("return");case 6:l(a.data);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement(fe.c,{width:"100%",height:window.innerHeight+"px",onLoadError:function(e){return alert("Error while loading document! "+e.message)}},r.a.createElement(fe.a,{title:"Relat\xf3rio de livros",onLoadError:function(e){return alert("Error while loading document! "+e.message)},style:{padding:"2vh"}},r.a.createElement(fe.d,{size:"A4",style:ye.page},r.a.createElement(fe.g,{style:ye.titulo},r.a.createElement(fe.b,{src:"assets/Logo2.png",style:ye.image,fixed:!0}),r.a.createElement(fe.f,{style:{fontSize:30},fixed:!0},"Relat\xf3rio de Retiradas")),r.a.createElement(fe.g,{style:ye.table},r.a.createElement(fe.g,{style:ye.tableRow,fixed:!0},r.a.createElement(fe.g,{style:[ye.tableCol,{width:"18vh",backgroundColor:"#ccc"}]},r.a.createElement(fe.f,{style:ye.tableCell},"RA")),r.a.createElement(fe.g,{style:[ye.tableCol,{width:"50vh",backgroundColor:"#ccc"}]},r.a.createElement(fe.f,{style:ye.tableCell},"Nome")),r.a.createElement(fe.g,{style:[ye.tableCol,{width:"10vh",backgroundColor:"#ccc"}]},r.a.createElement(fe.f,{style:ye.tableCell},"Curso")),r.a.createElement(fe.g,{style:[ye.tableCol,{width:"15vh",backgroundColor:"#ccc"}]},r.a.createElement(fe.f,{style:ye.tableCell},"Semestre")),r.a.createElement(fe.g,{style:[ye.tableCol,{width:"50vh",backgroundColor:"#ccc"}]},r.a.createElement(fe.f,{style:ye.tableCell},"Livro"))),a.map((function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(fe.g,{key:t,style:ye.tableRow},r.a.createElement(fe.g,{style:[ye.tableCol,{width:"18vh"}]},r.a.createElement(fe.f,{style:ye.tableCell},e.ra)),r.a.createElement(fe.g,{style:[ye.tableCol,{width:"50vh"}]},r.a.createElement(fe.f,{style:ye.tableCell},e.nome)),r.a.createElement(fe.g,{style:[ye.tableCol,{width:"10vh"}]},r.a.createElement(fe.f,{style:ye.tableCell},e.curso)),r.a.createElement(fe.g,{style:[ye.tableCol,{width:"15vh"}]},r.a.createElement(fe.f,{style:ye.tableCell},e.semestre)),r.a.createElement(fe.g,{style:[ye.tableCol,{width:"50vh"}]},r.a.createElement(fe.f,{style:ye.tableCell},e.livro))))}))))))},je=function(){var e=Object(n.useMemo)((function(){return{signIn:function(e,t){g(e,t)},signOut:function(){JSON.parse(localStorage.getItem("manterLogado"))?localStorage.removeItem(f):sessionStorage.removeItem(f),localStorage.setItem("manterLogado","false")},isAdmin:function(){var e=h();return 2===u.a.decode(e.token).nivel}}}),[]);return r.a.createElement(r.a.Fragment,null,i.manutencao?r.a.createElement(p,null):r.a.createElement(b.Provider,{value:e},r.a.createElement(c.a,null,r.a.createElement(s.c,null,r.a.createElement(C,{path:"/dashboard",component:q}),r.a.createElement(C,{path:"/livros",component:X}),r.a.createElement(C,{path:"/retiradas",component:ce}),r.a.createElement(C,{path:"/importacoes",component:de}),r.a.createElement(C,{path:"/usuarios",component:be}),r.a.createElement(C,{path:"/perfil",component:Z}),r.a.createElement(s.a,{path:"/relatorio/livros/:param",component:Ee}),r.a.createElement(s.a,{path:"/relatorio/emBaixa",component:Ne}),r.a.createElement(s.a,{path:"/relatorio/retiradas/:dataInicio/:dataFim",component:Oe}),r.a.createElement(s.a,{exact:!0,path:"/",component:P})))),"relatorio"!==window.location.hash.split("/")[1]&&r.a.createElement(S,null))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(je,null)),document.getElementById("root"))}},[[529,1,2]]]);
//# sourceMappingURL=main.62beef16.chunk.js.map